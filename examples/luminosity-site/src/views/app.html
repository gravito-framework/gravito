<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luminosity</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/favicon.svg">
    <meta name="theme-color" content="#10B981">

    {{#if isDev}}
    <script type="module" src="/@vite/client"></script>
    <script type="module" src="/app.ts"></script>
    {{else}}
    <link rel="stylesheet" href="/static/build/assets/app.css">
    <script type="module" src="/static/build/assets/app.js"></script>
    {{/if}}

    <!-- Google Analytics -->
    <script>
        (function() {
            // Extract shared data from Inertia page object
            try {
                var page = JSON.parse('{{{ page }}}');
                var gaId = page.props.gaId;
                if (gaId) {
                    var script = document.createElement('script');
                    script.async = true;
                    script.src = 'https://www.googletagmanager.com/gtag/js?id=' + gaId;
                    document.head.appendChild(script);

                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());
                    gtag('config', gaId);
                }
            } catch (e) {
                console.warn('[GA] Failed to initialize:', e);
            }
        })();
    </script>
</head>

<body class="bg-black">
    <div id="app" data-page='{{{ page }}}'></div>
</body>

</html>